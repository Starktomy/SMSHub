services:
  smshub:
    # 使用最新的镜像，也可以指定具体版本如：starktomy/smshub:v1.1.0
    image: starktomy/smshub:latest
    container_name: smshub
    restart: unless-stopped

    ports:
      # 映射 8080 端口到主机
      - "8080:8080"

    volumes:
      # 持久化数据目录
      - ./data:/app/data
      # 持久化日志目录
      - ./logs:/app/logs
      # 挂载配置文件（首次运行前需要创建此文件）
      - ./config.yaml:/app/config.yaml

    # 串口设备映射（多设备支持）
    # 根据实际连接的设备数量和路径修改，以下为示例：
    # devices:
    #   - /dev/ttyUSB0:/dev/ttyUSB0  # 设备1
    #   - /dev/ttyUSB1:/dev/ttyUSB1  # 设备2
    #   - /dev/ttyUSB2:/dev/ttyUSB2  # 设备3
    #   - /dev/ttyACM0:/dev/ttyACM0  # 设备4（部分设备使用 ttyACM）
    #
    # 或者映射整个 USB 串口目录（不推荐，权限较大）：
    # devices:
    #   - /dev:/dev
    #
    # 提示：使用 ls /dev/ttyUSB* /dev/ttyACM* 查看可用串口

    environment:
      - TZ=Asia/Shanghai
